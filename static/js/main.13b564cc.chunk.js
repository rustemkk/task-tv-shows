(this["webpackJsonptask-tv-shows"]=this["webpackJsonptask-tv-shows"]||[]).push([[0],{13:function(e,t,a){e.exports={EpisodePage:"EpisodePage_EpisodePage__23eib",ImageContainer:"EpisodePage_ImageContainer__HzPzd",Image:"EpisodePage_Image__2lAjF",ContentContainer:"EpisodePage_ContentContainer__2Eke3",Name:"EpisodePage_Name__201u4",EpisodeProperty:"EpisodePage_EpisodeProperty__1SkwK",Link:"EpisodePage_Link__3OVwx",Episodes:"EpisodePage_Episodes__2-h8x",Episode:"EpisodePage_Episode__3MZ1V"}},14:function(e,t,a){e.exports={Show:"ShowPage_Show__Oc3P5",ImageContainer:"ShowPage_ImageContainer__1JYG4",Image:"ShowPage_Image__2lGkK",ContentContainer:"ShowPage_ContentContainer__2x9mB",Name:"ShowPage_Name__1ENwJ",ShowProperty:"ShowPage_ShowProperty__2Keb-",Episodes:"ShowPage_Episodes__1eEfM",Episode:"ShowPage_Episode__15lO0"}},24:function(e,t,a){e.exports={Shows:"ShowsPage_Shows__2RD5-",Show:"ShowsPage_Show__zequl",Rating:"ShowsPage_Rating__29Fbi",Name:"ShowsPage_Name__2K61q",Genre:"ShowsPage_Genre__R6emS"}},26:function(e,t,a){e.exports={RatingLabel:"RatingLabel_RatingLabel__2MKcz",ColorGrey:"RatingLabel_ColorGrey__2I3Zn",ColorGreen:"RatingLabel_ColorGreen__C9iRK",ColorGold:"RatingLabel_ColorGold__2Lxns"}},40:function(e,t,a){e.exports={App:"App_App__1sVak"}},42:function(e,t,a){e.exports=a(55)},53:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),o=a.n(r),c=a(20),i=a(23),u=a(21),d=a(5),l=function(e){return{type:"episodes/LOAD_EPISODES_SUCCESS",episodes:e.entities.episodes,episodesIds:e.result}},p=a(22),m=function(e){return Object(d.get)(e,"episodes.episodes")},E=Object(p.a)(m,(function(e){return Object(d.get)(e,"episodes.episodesIds")}),(function(e,t){return t.map((function(t){return e[t]})).sort((function(e,t){return 1e3*e.season+e.number>1e3*t.season+t.number?-1:1}))})),h=function(e){return Object(p.a)(m,(function(t){return t[e]}))},_=function(e){return Object(p.a)(E,(function(t){return t.filter((function(t){return t.showId===e}))}))},w=a(13),f=a.n(w),g={loadEpisode:function(e){return{type:"episodes/LOAD_EPISODE_REQUEST",episodeId:e}}},b=Object(c.b)((function(e,t){var a=+Object(d.get)(t,"match.params.episodeId");return{episode:h(a)(e),episodeId:a}}),g)((function(e){var t=e.episode,a=e.episodeId,r=e.loadEpisode,o=Object(u.f)();return Object(n.useEffect)((function(){a&&!t&&r(a)}),[t,a,r]),t?s.a.createElement("div",{className:f.a.EpisodePage},Object(d.get)(t,"image.original")&&s.a.createElement("div",{className:f.a.ImageContainer},s.a.createElement("img",{className:f.a.Image,alt:t.name,src:Object(d.get)(t,"image.original")})),s.a.createElement("div",{className:f.a.ContentContainer},s.a.createElement("div",{className:f.a.Name},t.name),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.summary}}),s.a.createElement("div",{className:f.a.EpisodeProperty},s.a.createElement("span",null,"Show"),": ",s.a.createElement("span",{className:f.a.Link,onClick:function(){return o.push("/show/".concat(t.showId))}},t.showName)),s.a.createElement("div",{className:f.a.EpisodeProperty},s.a.createElement("span",null,"Season"),": ",t.season),s.a.createElement("div",{className:f.a.EpisodeProperty},s.a.createElement("span",null,"Episode"),": ",t.number),s.a.createElement("div",{className:f.a.EpisodeProperty},s.a.createElement("span",null,"Airdate"),": ",t.airdate))):null})),O=function(e){return{type:"shows/LOAD_SHOWS_SUCCESS",shows:e.entities.shows,showsIds:e.result}},S=function(e){return Object(d.get)(e,"shows.shows")},v=Object(p.a)(S,(function(e){return Object(d.get)(e,"shows.showsIds")}),(function(e,t){return t.map((function(t){return e[t]})).sort((function(e,t){return e.name>t.name?1:-1}))})),j=function(e){return Object(p.a)(S,(function(t){return t[e]}))},I=a(14),P=a.n(I),C={loadEpisodes:function(e){return{type:"episodes/LOAD_EPISODES_REQUEST",showId:e}},loadShow:function(e){return{type:"shows/LOAD_SHOW_REQUEST",showId:e}}},x=Object(c.b)((function(e,t){var a=+Object(d.get)(t,"match.params.showId");return{episodes:_(a)(e),show:j(a)(e),showId:a}}),C)((function(e){var t=e.episodes,a=e.loadEpisodes,r=e.loadShow,o=e.show,c=e.showId,i=Object(u.f)();return Object(n.useEffect)((function(){c&&!o&&r(c)}),[r,o,c]),Object(n.useEffect)((function(){c&&!t.length<=1&&a(c)}),[t,a,c]),o?s.a.createElement("div",{className:P.a.Show},s.a.createElement("div",{className:P.a.ImageContainer},s.a.createElement("img",{className:P.a.Image,alt:o.name,src:Object(d.get)(o,"image.original")})),s.a.createElement("div",{className:P.a.ContentContainer},s.a.createElement("div",{className:P.a.Name},o.name,", ",o.premiered.substring(0,4)),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.summary}}),s.a.createElement("div",{className:P.a.ShowProperty},s.a.createElement("span",null,"Rating"),": ",o.rating.average),s.a.createElement("div",{className:P.a.ShowProperty},s.a.createElement("span",null,"Genre"),": ",o.genres.join(", ")),s.a.createElement("div",{className:P.a.ShowProperty},s.a.createElement("span",null,"Language"),": ",o.language),t.length>0&&s.a.createElement("div",{className:P.a.Episodes},"Episodes:",t.map((function(e){return s.a.createElement("div",{className:P.a.Episode,key:e.id,onClick:function(){return i.push("/episode/".concat(e.id))}},e.season,"x",e.number," - ",e.name)}))))):null})),N=a(39),k=a.n(N),y=a(26),L=a.n(y),D=function(e){var t=e.className,a=e.value;return a?s.a.createElement("div",{className:k()(t,L.a.RatingLabel,a>=4&&L.a.ColorGrey,a>=7&&L.a.ColorGreen,a>=9&&L.a.ColorGold)},a):null},R=a(24),A=a.n(R),G={loadShows:function(){return{type:"shows/LOAD_SHOWS_REQUEST"}}},T=Object(c.b)((function(e){return{shows:v(e)}}),G)((function(e){var t=e.loadShows,a=e.shows,r=Object(u.f)();return Object(n.useEffect)((function(){t()}),[t]),s.a.createElement("div",{className:A.a.Shows},a.map((function(e){return s.a.createElement("div",{className:A.a.Show,key:e.id,onClick:function(){return r.push("/show/".concat(e.id))}},s.a.createElement(D,{className:A.a.Rating,value:Object(d.get)(e,"rating.average")}),s.a.createElement("img",{alt:e.name,src:Object(d.get)(e,"image.medium")}),s.a.createElement("span",{className:A.a.Name},e.name,", ",e.premiered.substring(0,4)),s.a.createElement("span",{className:A.a.Genre},e.genres.join(", ")))})))})),U=a(40),H=a.n(U),Q=function(){return s.a.createElement("div",{className:H.a.App},s.a.createElement(u.c,null,s.a.createElement(u.a,{exact:!0,path:"/",component:T}),s.a.createElement(u.a,{exact:!0,path:"/episode/:episodeId",component:b}),s.a.createElement(u.a,{exact:!0,path:"/show/:showId",component:x}),s.a.createElement(u.a,{component:function(){return s.a.createElement("div",null,"page not found")}})))},W=(a(53),a(8)),K=a(41),q=a(30),z=a(17),M=a(19),J=Object(W.c)({episodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"episodes/LOAD_EPISODES_SUCCESS":return Object(z.a)({},e,{},t.episodes);default:return e}},episodesIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"episodes/LOAD_EPISODES_SUCCESS":return Object(d.uniq)([].concat(Object(M.a)(e),Object(M.a)(t.episodesIds)));default:return e}}}),V=a(6),B=a.n(V),F=a(10),Z=a(15),Y=function(e){return fetch("".concat("https://api.tvmaze.com").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log("Error: ",e)}))},X=[new Z.b.Entity("episodes")],$=B.a.mark(ne),ee=B.a.mark(se),te=B.a.mark(re),ae=B.a.mark(oe);function ne(e){var t,a,n,s,r;return B.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.episodeId,o.prev=1,o.next=4,Y("/episodes/".concat(t,"?embed=show"));case 4:return a=o.sent,n=Object(d.get)(a,"_embedded.show.id"),s=Object(d.get)(a,"_embedded.show.name"),delete a._embedded,r=Object(Z.a)([Object(z.a)({},a,{showId:n,showName:s})],X),o.next=11,Object(F.b)(l(r));case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(1),console.log("loadEpisodeTaskError",o.t0);case 16:case"end":return o.stop()}}),$,null,[[1,13]])}function se(e){var t,a,n,s,r;return B.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.showId,o.prev=1,o.next=4,Y("/shows/".concat(t,"/episodes"));case 4:return a=o.sent,o.next=7,Object(F.c)(j(t));case 7:return n=o.sent,s=Object(d.get)(n,"name"),r=Object(Z.a)(a.map((function(e){return Object(z.a)({},e,{showId:t,showName:s})})),X),o.next=12,Object(F.b)(l(r));case 12:o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),console.log("loadEpisodesTaskError",o.t0);case 17:case"end":return o.stop()}}),ee,null,[[1,14]])}function re(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("episodes/LOAD_EPISODE_REQUEST",ne);case 2:case"end":return e.stop()}}),te)}function oe(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("episodes/LOAD_EPISODES_REQUEST",se);case 2:case"end":return e.stop()}}),ae)}var ce={name:"episodes",reducer:J,sagas:[re(),oe()]},ie=Object(W.c)({shows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shows/LOAD_SHOWS_SUCCESS":return Object(z.a)({state:e},t.shows);default:return e}},showsIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shows/LOAD_SHOWS_SUCCESS":return Object(d.uniq)([].concat(Object(M.a)(e),Object(M.a)(t.showsIds)));default:return e}}}),ue=[new Z.b.Entity("shows")],de=B.a.mark(Ee),le=B.a.mark(he),pe=B.a.mark(_e),me=B.a.mark(we);function Ee(e){var t,a,n;return B.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.showId,s.prev=1,s.next=4,Y("/shows/".concat(t));case 4:return a=s.sent,n=Object(Z.a)([a],ue),s.next=8,Object(F.b)(O(n));case 8:s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),console.log("loadShowTaskError",s.t0);case 13:case"end":return s.stop()}}),de,null,[[1,10]])}function he(){var e,t;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Y("/search/shows?q=girls");case 3:return e=a.sent,t=Object(Z.a)(e.map((function(e){return e.show})),ue),a.next=7,Object(F.b)(O(t));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("loadShowsTaskError",a.t0);case 12:case"end":return a.stop()}}),le,null,[[0,9]])}function _e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("shows/LOAD_SHOW_REQUEST",Ee);case 2:case"end":return e.stop()}}),pe)}function we(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("shows/LOAD_SHOWS_REQUEST",he);case 2:case"end":return e.stop()}}),me)}var fe=[ce,{name:"shows",reducer:ie,sagas:[_e(),we()]}],ge={};fe.forEach((function(e){e.reducer&&(ge=Object(z.a)({},ge,Object(q.a)({},e.name,e.reducer)))}));var be=Object(W.c)(ge),Oe=B.a.mark(ve),Se=[];function ve(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)(Se);case 2:case"end":return e.stop()}}),Oe)}fe.forEach((function(e){e.sagas&&(Se=[].concat(Object(M.a)(Se),Object(M.a)(e.sagas)))}));o.a.render(s.a.createElement(c.a,{store:function(){var e=Object(K.a)(),t=Object(W.e)(be,Object(W.d)(Object(W.a)(e)));return e.run(ve),t}()},s.a.createElement(i.a,{basename:"/"},s.a.createElement(Q,null))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.13b564cc.chunk.js.map