(this["webpackJsonptask-tv-shows"]=this["webpackJsonptask-tv-shows"]||[]).push([[0],{16:function(e,t,n){e.exports={Shows:"ShowsPage_Shows__2RD5-",Show:"ShowsPage_Show__zequl",Rating:"ShowsPage_Rating__29Fbi",Name:"ShowsPage_Name__2K61q",Genre:"ShowsPage_Genre__R6emS"}},19:function(e,t,n){e.exports={RatingLabel:"RatingLabel_RatingLabel__2MKcz",ColorGrey:"RatingLabel_ColorGrey__2I3Zn",ColorGreen:"RatingLabel_ColorGreen__C9iRK",ColorGold:"RatingLabel_ColorGold__2Lxns"}},37:function(e,t,n){e.exports={App:"App_App__1sVak"}},40:function(e,t,n){e.exports=n(53)},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(20),o=n.n(c),s=n(26),u=n(13),i=n(29),l=n(12),h=n(36),m=n.n(h),w=n(19),f=n.n(w),p=function(e){var t=e.className,n=e.value;return n?r.a.createElement("div",{className:m()(t,f.a.RatingLabel,n>=4&&f.a.ColorGrey,n>=7&&f.a.ColorGreen,n>=9&&f.a.ColorGold)},n):null},b="contacts/LOAD_SHOWS_SUCCESS",d=function(e){var t=e.entities.shows,n=e.result;return{type:b,shows:t,showsIds:n}},g=n(31),_=function(e){return Object(l.get)(e,"shows.shows")},v=Object(g.a)(_,(function(e){return Object(l.get)(e,"shows.showsIds")}),(function(e,t){return t.map((function(t){return e[t]})).sort((function(e,t){return e.name>t.name?1:-1}))})),O=n(6),j=Object(O.a)(),E=n(16),S=n.n(E),R={loadShows:function(){return{type:"contacts/LOAD_SHOWS_REQUEST"}}},x=Object(s.b)((function(e){return{shows:v(e)}}),R)((function(e){var t=e.loadShows,n=e.shows;return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement("div",{className:S.a.Shows},n.map((function(e){return r.a.createElement("div",{className:S.a.Show,key:e.id,onClick:function(){return j.push("/show/".concat(e.id))}},r.a.createElement(p,{className:S.a.Rating,value:Object(l.get)(e,"rating.average")}),r.a.createElement("img",{alt:e.name,src:Object(l.get)(e,"image.medium")}),r.a.createElement("span",{className:S.a.Name},e.name,", ",e.premiered.substring(0,4)),r.a.createElement("span",{className:S.a.Genre},e.genres.join(", ")))})))})),k=n(37),C=n.n(k),G=function(){return r.a.createElement("div",{className:C.a.App},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:x}),r.a.createElement(u.a,{component:function(){return r.a.createElement("div",null,"page not found")}})))},y=(n(51),n(8)),L=n(39),N=n(23),A=n(24),I=n(15),P=Object(y.c)({shows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(A.a)({state:e},t.shows);default:return e}},showsIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.uniq)([].concat(Object(I.a)(e),Object(I.a)(t.showsIds)));default:return e}}}),q=n(14),D=n.n(q),T=n(18),z=n(25),H=[new z.b.Entity("shows")],K=D.a.mark(W),U=D.a.mark(J);function W(){var e,t;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a="/search/shows?q=girls",fetch("".concat("http://api.tvmaze.com").concat(a),{method:"GET"}).then((function(e){return e.json()}));case 3:return e=n.sent,t=Object(z.a)(e.map((function(e){return e.show})),H),n.next=7,Object(T.b)(d(t));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("loadShowsTaskError",n.t0);case 12:case"end":return n.stop()}var a}),K,null,[[0,9]])}function J(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.c)("contacts/LOAD_SHOWS_REQUEST",W);case 2:case"end":return e.stop()}}),U)}var Q=[{name:"shows",reducer:P,sagas:[J()]}],B={};Q.forEach((function(e){e.reducer&&(B=Object(A.a)({},B,Object(N.a)({},e.name,e.reducer)))}));var F=Object(y.c)(B),M=D.a.mark(Z),V=[];function Z(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)(V);case 2:case"end":return e.stop()}}),M)}Q.forEach((function(e){e.sagas&&(V=[].concat(Object(I.a)(V),Object(I.a)(e.sagas)))}));o.a.render(r.a.createElement(s.a,{store:function(){var e=Object(L.a)(),t=Object(y.e)(F,Object(y.d)(Object(y.a)(e)));return e.run(Z),t}()},r.a.createElement(u.b,{history:j},r.a.createElement(i.a,{basename:"/task-tv-shows"},r.a.createElement(G,null)))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.4dcd5332.chunk.js.map