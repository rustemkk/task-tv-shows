(this["webpackJsonptask-tv-shows"]=this["webpackJsonptask-tv-shows"]||[]).push([[0],{15:function(e,t,a){e.exports={EpisodePage:"EpisodePage_EpisodePage__23eib",ImageContainer:"EpisodePage_ImageContainer__HzPzd",Image:"EpisodePage_Image__2lAjF",ContentContainer:"EpisodePage_ContentContainer__2Eke3",Name:"EpisodePage_Name__201u4",EpisodeProperty:"EpisodePage_EpisodeProperty__1SkwK",Link:"EpisodePage_Link__3OVwx",Episodes:"EpisodePage_Episodes__2-h8x",Episode:"EpisodePage_Episode__3MZ1V"}},16:function(e,t,a){e.exports={Show:"ShowPage_Show__Oc3P5",ImageContainer:"ShowPage_ImageContainer__1JYG4",Image:"ShowPage_Image__2lGkK",ContentContainer:"ShowPage_ContentContainer__2x9mB",Name:"ShowPage_Name__1ENwJ",ShowProperty:"ShowPage_ShowProperty__2Keb-",Episodes:"ShowPage_Episodes__1eEfM",Episode:"ShowPage_Episode__15lO0"}},24:function(e,t,a){e.exports={Shows:"ShowsPage_Shows__2RD5-",ShowPlaceholder:"ShowsPage_ShowPlaceholder__1_BRc",Show:"ShowsPage_Show__zequl",Rating:"ShowsPage_Rating__29Fbi",Name:"ShowsPage_Name__2K61q",Genre:"ShowsPage_Genre__R6emS"}},26:function(e,t,a){e.exports={RatingLabel:"RatingLabel_RatingLabel__2MKcz",ColorGrey:"RatingLabel_ColorGrey__2I3Zn",ColorGreen:"RatingLabel_ColorGreen__C9iRK",ColorGold:"RatingLabel_ColorGold__2Lxns"}},40:function(e,t,a){e.exports={App:"App_App__1sVak"}},42:function(e,t,a){e.exports=a(55)},53:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),o=a.n(r),c=a(21),i=a(19),u=a(22),d=a(5),l=function(e){return{type:"episodes/LOAD_EPISODES_SUCCESS",episodes:e.entities.episodes,episodesIds:e.result}},p=a(23),m=function(e){return Object(d.get)(e,"episodes.episodes")},h=Object(p.a)(m,(function(e){return Object(d.get)(e,"episodes.episodesIds")}),(function(e,t){return t.map((function(t){return e[t]})).sort((function(e,t){return 1e3*e.season+e.number>1e3*t.season+t.number?-1:1}))})),E=function(e){return Object(p.a)(m,(function(t){return t[e]}))},_=function(e){return Object(p.a)(h,(function(t){return t.filter((function(t){return t.showId===e}))}))},w=a(15),g=a.n(w),f={loadEpisode:function(e){return{type:"episodes/LOAD_EPISODE_REQUEST",episodeId:e}}},b=Object(c.b)((function(e,t){var a=+Object(d.get)(t,"match.params.episodeId");return{episode:E(a)(e),episodeId:a}}),f)((function(e){var t=e.episode,a=e.episodeId,r=e.loadEpisode;return Object(n.useEffect)((function(){a&&!t&&r(a)}),[t,a,r]),isNaN(a)||404===Object(d.get)(t,"status")?"Episode not found.":t?s.a.createElement("div",{className:g.a.EpisodePage},Object(d.get)(t,"image.original")&&s.a.createElement("div",{className:g.a.ImageContainer},s.a.createElement("img",{className:g.a.Image,alt:t.name,src:Object(d.get)(t,"image.original")})),s.a.createElement("div",{className:g.a.ContentContainer},s.a.createElement("div",{className:g.a.Name},t.name),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.summary}}),s.a.createElement("div",{className:g.a.EpisodeProperty},s.a.createElement("span",null,"Show"),": ",s.a.createElement(i.b,{className:g.a.Link,to:"/show/".concat(t.showId)},t.showName)),s.a.createElement("div",{className:g.a.EpisodeProperty},s.a.createElement("span",null,"Season"),": ",t.season),s.a.createElement("div",{className:g.a.EpisodeProperty},s.a.createElement("span",null,"Episode"),": ",t.number),s.a.createElement("div",{className:g.a.EpisodeProperty},s.a.createElement("span",null,"Airdate"),": ",t.airdate))):null})),O=function(e){return{type:"shows/LOAD_SHOWS_SUCCESS",shows:e.entities.shows,showsIds:e.result}},S=function(e){return Object(d.get)(e,"shows.shows")},v=Object(p.a)(S,(function(e){return Object(d.get)(e,"shows.showsIds")}),(function(e,t){return t.map((function(t){return e[t]})).sort((function(e,t){return e.name>t.name?1:-1}))})),j=function(e){return Object(p.a)(S,(function(t){return t[e]}))},I=a(16),P=a.n(I),N={loadEpisodes:function(e){return{type:"episodes/LOAD_EPISODES_REQUEST",showId:e}},loadShow:function(e){return{type:"shows/LOAD_SHOW_REQUEST",showId:e}}},x=Object(c.b)((function(e,t){var a=+Object(d.get)(t,"match.params.showId");return{episodes:_(a)(e),show:j(a)(e),showId:a}}),N)((function(e){var t=e.episodes,a=e.loadEpisodes,r=e.loadShow,o=e.show,c=e.showId;return Object(n.useEffect)((function(){c&&!o&&r(c)}),[r,o,c]),Object(n.useEffect)((function(){c&&t.length<=1&&a(c)}),[a,c]),isNaN(c)||404===Object(d.get)(o,"status")?"Show not found.":o?s.a.createElement("div",{className:P.a.Show},s.a.createElement("div",{className:P.a.ImageContainer},s.a.createElement("img",{className:P.a.Image,alt:o.name,src:Object(d.get)(o,"image.original")})),s.a.createElement("div",{className:P.a.ContentContainer},s.a.createElement("div",{className:P.a.Name},o.name,", ",o.premiered.substring(0,4)),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.summary}}),s.a.createElement("div",{className:P.a.ShowProperty},s.a.createElement("span",null,"Rating"),": ",o.rating.average),s.a.createElement("div",{className:P.a.ShowProperty},s.a.createElement("span",null,"Genre"),": ",o.genres.join(", ")),s.a.createElement("div",{className:P.a.ShowProperty},s.a.createElement("span",null,"Language"),": ",o.language),t.length>0&&s.a.createElement("div",{className:P.a.Episodes},"Episodes:",t.map((function(e){return s.a.createElement(i.b,{className:P.a.Episode,key:e.id,to:"/episode/".concat(e.id)},e.season,"x",e.number," - ",e.name)}))))):null})),C=a(14),y=a(39),k=a.n(y),L=a(26),R=a.n(L),D=function(e){var t=e.className,a=e.value;return a?s.a.createElement("div",{className:k()(t,R.a.RatingLabel,a>=4&&R.a.ColorGrey,a>=7&&R.a.ColorGreen,a>=9&&R.a.ColorGold)},a):null},A=a(24),G=a.n(A),T={loadShows:function(){return{type:"shows/LOAD_SHOWS_REQUEST"}}},U=Object(c.b)((function(e){return{shows:v(e)}}),T)((function(e){var t=e.loadShows,a=e.shows;return Object(n.useEffect)((function(){t()}),[t]),s.a.createElement("div",{className:G.a.Shows},a.map((function(e){return s.a.createElement(i.b,{className:G.a.Show,key:e.id,to:"/show/".concat(e.id)},s.a.createElement(D,{className:G.a.Rating,value:Object(d.get)(e,"rating.average")}),s.a.createElement("img",{alt:e.name,src:Object(d.get)(e,"image.medium")}),s.a.createElement("span",{className:G.a.Name},e.name,", ",e.premiered.substring(0,4)),s.a.createElement("span",{className:G.a.Genre},e.genres.join(", ")))})),Object(C.a)(Array(50)).map((function(e,t){return s.a.createElement("div",{key:t,className:G.a.ShowPlaceholder})})))})),H=a(40),Q=a.n(H),W=function(){return s.a.createElement("div",{className:Q.a.App},s.a.createElement(u.c,null,s.a.createElement(u.a,{exact:!0,path:"/",component:U}),s.a.createElement(u.a,{exact:!0,path:"/episode/:episodeId",component:b}),s.a.createElement(u.a,{exact:!0,path:"/show/:showId",component:x}),s.a.createElement(u.a,{component:function(){return s.a.createElement("div",null,"page not found")}})))},K=(a(53),a(8)),q=a(41),z=a(30),M=a(11),J=Object(K.c)({episodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"episodes/LOAD_EPISODES_SUCCESS":return Object(M.a)({},e,{},t.episodes);default:return e}},episodesIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"episodes/LOAD_EPISODES_SUCCESS":return Object(d.uniq)([].concat(Object(C.a)(e),Object(C.a)(t.episodesIds)));default:return e}}}),B=a(6),V=a.n(B),F=a(10),Z=a(17),Y=function(e){return fetch("".concat("https://api.tvmaze.com").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log("Error: ",e)}))},X=[new Z.b.Entity("episodes")],$=V.a.mark(ne),ee=V.a.mark(se),te=V.a.mark(re),ae=V.a.mark(oe);function ne(e){var t,a,n,s,r;return V.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.episodeId,o.prev=1,o.next=4,Y("/episodes/".concat(t,"?embed=show"));case 4:return 404===(a=o.sent).status&&(a=Object(M.a)({id:t},a)),n=Object(d.get)(a,"_embedded.show.id"),s=Object(d.get)(a,"_embedded.show.name"),delete a._embedded,r=Object(Z.a)([Object(M.a)({},a,{showId:n,showName:s})],X),o.next=12,Object(F.b)(l(r));case 12:o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),console.log("loadEpisodeTaskError",o.t0);case 17:case"end":return o.stop()}}),$,null,[[1,14]])}function se(e){var t,a,n,s,r;return V.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.showId,o.prev=1,o.next=4,Y("/shows/".concat(t,"/episodes"));case 4:return a=o.sent,o.next=7,Object(F.c)(j(t));case 7:return n=o.sent,s=Object(d.get)(n,"name"),r=Object(Z.a)(a.map((function(e){return Object(M.a)({},e,{showId:t,showName:s})})),X),o.next=12,Object(F.b)(l(r));case 12:o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),console.log("loadEpisodesTaskError",o.t0);case 17:case"end":return o.stop()}}),ee,null,[[1,14]])}function re(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("episodes/LOAD_EPISODE_REQUEST",ne);case 2:case"end":return e.stop()}}),te)}function oe(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("episodes/LOAD_EPISODES_REQUEST",se);case 2:case"end":return e.stop()}}),ae)}var ce={name:"episodes",reducer:J,sagas:[re(),oe()]},ie=Object(K.c)({shows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shows/LOAD_SHOWS_SUCCESS":return Object(M.a)({},e,{},t.shows);default:return e}},showsIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shows/LOAD_SHOWS_SUCCESS":return Object(d.uniq)([].concat(Object(C.a)(e),Object(C.a)(t.showsIds)));default:return e}}}),ue=[new Z.b.Entity("shows")],de=V.a.mark(he),le=V.a.mark(Ee),pe=V.a.mark(_e),me=V.a.mark(we);function he(e){var t,a,n;return V.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.showId,s.prev=1,s.next=4,Y("/shows/".concat(t));case 4:return 404===(a=s.sent).status&&(a=Object(M.a)({id:t},a)),n=Object(Z.a)([a],ue),s.next=9,Object(F.b)(O(n));case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(1),console.log("loadShowTaskError",s.t0);case 14:case"end":return s.stop()}}),de,null,[[1,11]])}function Ee(){var e,t;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Y("/search/shows?q=girls");case 3:return e=a.sent,t=Object(Z.a)(e.map((function(e){return e.show})),ue),a.next=7,Object(F.b)(O(t));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("loadShowsTaskError",a.t0);case 12:case"end":return a.stop()}}),le,null,[[0,9]])}function _e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("shows/LOAD_SHOW_REQUEST",he);case 2:case"end":return e.stop()}}),pe)}function we(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("shows/LOAD_SHOWS_REQUEST",Ee);case 2:case"end":return e.stop()}}),me)}var ge=[ce,{name:"shows",reducer:ie,sagas:[_e(),we()]}],fe={};ge.forEach((function(e){e.reducer&&(fe=Object(M.a)({},fe,Object(z.a)({},e.name,e.reducer)))}));var be=Object(K.c)(fe),Oe=V.a.mark(ve),Se=[];function ve(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)(Se);case 2:case"end":return e.stop()}}),Oe)}ge.forEach((function(e){e.sagas&&(Se=[].concat(Object(C.a)(Se),Object(C.a)(e.sagas)))}));o.a.render(s.a.createElement(c.a,{store:function(){var e=Object(q.a)(),t=Object(K.e)(be,Object(K.d)(Object(K.a)(e)));return e.run(ve),t}()},s.a.createElement(i.a,{basename:"/"},s.a.createElement(W,null))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.8c34d234.chunk.js.map