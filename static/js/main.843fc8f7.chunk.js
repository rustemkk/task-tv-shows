(this["webpackJsonptask-tv-shows"]=this["webpackJsonptask-tv-shows"]||[]).push([[0],{12:function(e,t,n){e.exports={Show:"ShowPage_Show__Oc3P5",ImageContainer:"ShowPage_ImageContainer__1JYG4",Image:"ShowPage_Image__2lGkK",ContentContainer:"ShowPage_ContentContainer__2x9mB",Name:"ShowPage_Name__1ENwJ",ShowProperty:"ShowPage_ShowProperty__2Keb-",Episodes:"ShowPage_Episodes__1eEfM",Episode:"ShowPage_Episode__15lO0"}},22:function(e,t,n){e.exports={Shows:"ShowsPage_Shows__2RD5-",Show:"ShowsPage_Show__zequl",Rating:"ShowsPage_Rating__29Fbi",Name:"ShowsPage_Name__2K61q",Genre:"ShowsPage_Genre__R6emS"}},25:function(e,t,n){e.exports={RatingLabel:"RatingLabel_RatingLabel__2MKcz",ColorGrey:"RatingLabel_ColorGrey__2I3Zn",ColorGreen:"RatingLabel_ColorGreen__C9iRK",ColorGold:"RatingLabel_ColorGold__2Lxns"}},39:function(e,t,n){e.exports={App:"App_App__1sVak"}},41:function(e,t,n){e.exports=n(54)},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(26),o=n.n(s),c=n(21),i=n(23),u=n(19),l=n(7),d=function(e){return{type:"episodes/LOAD_SHOW_SUCCESS",episodes:e.entities.episodes,episodesIds:e.result}},h=n(20),p=function(e){return Object(l.get)(e,"episodes.episodes")},m=Object(h.a)(p,(function(e){return Object(l.get)(e,"episodes.episodesIds")}),(function(e,t){return t.map((function(t){return e[t]})).sort((function(e,t){return e.airdate>t.airdate?-1:1}))})),w=function(e){return Object(h.a)(m,(function(t){return t.filter((function(t){return t.showId===e}))}))},f=function(e){return{type:"shows/LOAD_SHOWS_SUCCESS",shows:e.entities.shows,showsIds:e.result}},_=function(e){return Object(l.get)(e,"shows.shows")},S=Object(h.a)(_,(function(e){return Object(l.get)(e,"shows.showsIds")}),(function(e,t){return t.map((function(t){return e[t]})).sort((function(e,t){return e.name>t.name?1:-1}))})),E=function(e){return Object(h.a)(_,(function(t){return t[e]}))},O=n(12),b=n.n(O),g={loadEpisodes:function(e){return{type:"episodes/LOAD_EPISODES_REQUEST",showId:e}},loadShow:function(e){return{type:"shows/LOAD_SHOW_REQUEST",showId:e}}},v=Object(c.b)((function(e,t){var n=Object(l.get)(t,"match.params.showId");return{episodes:w(n)(e),show:E(n)(e),showId:n}}),g)((function(e){var t=e.episodes,n=e.loadEpisodes,s=e.loadShow,o=e.show,c=e.showId,i=Object(u.f)();return Object(a.useEffect)((function(){c&&!o&&s(c)}),[s,o,c]),Object(a.useEffect)((function(){c&&!t.length&&n(c)}),[t,n,c]),o?r.a.createElement("div",{className:b.a.Show},r.a.createElement("div",{className:b.a.ImageContainer},r.a.createElement("img",{className:b.a.Image,alt:o.name,src:Object(l.get)(o,"image.original")})),r.a.createElement("div",{className:b.a.ContentContainer},r.a.createElement("div",{className:b.a.Name},o.name,", ",o.premiered.substring(0,4)),r.a.createElement("div",{className:b.a.Summary,dangerouslySetInnerHTML:{__html:o.summary}}),r.a.createElement("div",{className:b.a.ShowProperty},r.a.createElement("span",null,"Genre"),": ",o.genres.join(", ")),r.a.createElement("div",{className:b.a.ShowProperty},r.a.createElement("span",null,"Language"),": ",o.language),t.length&&r.a.createElement("div",{className:b.a.Episodes},"Episodes:",t.map((function(e){return r.a.createElement("div",{className:b.a.Episode,key:e.id,onClick:function(){return i.push("/episode/".concat(e.id))}},e.season,"x",e.number," - ",e.name)}))))):null})),j=n(38),C=n.n(j),x=n(25),I=n.n(x),N=function(e){var t=e.className,n=e.value;return n?r.a.createElement("div",{className:C()(t,I.a.RatingLabel,n>=4&&I.a.ColorGrey,n>=7&&I.a.ColorGreen,n>=9&&I.a.ColorGold)},n):null},y=n(22),k=n.n(y),L={loadShows:function(){return{type:"shows/LOAD_SHOWS_REQUEST"}}},P=Object(c.b)((function(e){return{shows:S(e)}}),L)((function(e){var t=e.loadShows,n=e.shows,s=Object(u.f)();return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement("div",{className:k.a.Shows},n.map((function(e){return r.a.createElement("div",{className:k.a.Show,key:e.id,onClick:function(){return s.push("/show/".concat(e.id))}},r.a.createElement(N,{className:k.a.Rating,value:Object(l.get)(e,"rating.average")}),r.a.createElement("img",{alt:e.name,src:Object(l.get)(e,"image.medium")}),r.a.createElement("span",{className:k.a.Name},e.name,", ",e.premiered.substring(0,4)),r.a.createElement("span",{className:k.a.Genre},e.genres.join(", ")))})))})),R=n(39),A=n.n(R),G=function(){return r.a.createElement("div",{className:A.a.App},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:P}),r.a.createElement(u.a,{exact:!0,path:"/show/:showId",component:v}),r.a.createElement(u.a,{component:function(){return r.a.createElement("div",null,"page not found")}})))},D=(n(52),n(8)),U=n(40),H=n(29),T=n(18),W=n(17),Q=Object(D.c)({episodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"episodes/LOAD_SHOW_SUCCESS":return Object(T.a)({},e,{},t.episodes);default:return e}},episodesIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"episodes/LOAD_SHOW_SUCCESS":return Object(l.uniq)([].concat(Object(W.a)(e),Object(W.a)(t.episodesIds)));default:return e}}}),q=n(5),K=n.n(q),J=n(13),z=n(15),M=function(e){return fetch("".concat("https://api.tvmaze.com").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log("Error: ",e)}))},B=[new z.b.Entity("episodes")],F=K.a.mark(Y),V=K.a.mark(Z);function Y(e){var t,n,a;return K.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.showId,r.prev=1,r.next=4,M("/shows/".concat(t,"/episodes"));case 4:return n=r.sent,a=Object(z.a)(n.map((function(e){return Object(T.a)({},e,{showId:t})})),B),r.next=8,Object(J.b)(d(a));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),console.log("loadEpisodesTaskError",r.t0);case 13:case"end":return r.stop()}}),F,null,[[1,10]])}function Z(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)("episodes/LOAD_EPISODES_REQUEST",Y);case 2:case"end":return e.stop()}}),V)}var X={name:"episodes",reducer:Q,sagas:[Z()]},$=Object(D.c)({shows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shows/LOAD_SHOWS_SUCCESS":return Object(T.a)({state:e},t.shows);default:return e}},showsIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shows/LOAD_SHOWS_SUCCESS":return Object(l.uniq)([].concat(Object(W.a)(e),Object(W.a)(t.showsIds)));default:return e}}}),ee=[new z.b.Entity("shows")],te=K.a.mark(se),ne=K.a.mark(oe),ae=K.a.mark(ce),re=K.a.mark(ie);function se(e){var t,n,a;return K.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.showId,r.prev=1,r.next=4,M("/shows/".concat(t));case 4:return n=r.sent,a=Object(z.a)([n],ee),r.next=8,Object(J.b)(f(a));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),console.log("loadShowTaskError",r.t0);case 13:case"end":return r.stop()}}),te,null,[[1,10]])}function oe(){var e,t;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,M("/search/shows?q=girls");case 3:return e=n.sent,t=Object(z.a)(e.map((function(e){return e.show})),ee),n.next=7,Object(J.b)(f(t));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("loadShowsTaskError",n.t0);case 12:case"end":return n.stop()}}),ne,null,[[0,9]])}function ce(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)("shows/LOAD_SHOW_REQUEST",se);case 2:case"end":return e.stop()}}),ae)}function ie(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)("shows/LOAD_SHOWS_REQUEST",oe);case 2:case"end":return e.stop()}}),re)}var ue=[X,{name:"shows",reducer:$,sagas:[ce(),ie()]}],le={};ue.forEach((function(e){e.reducer&&(le=Object(T.a)({},le,Object(H.a)({},e.name,e.reducer)))}));var de=Object(D.c)(le),he=K.a.mark(me),pe=[];function me(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)(pe);case 2:case"end":return e.stop()}}),he)}ue.forEach((function(e){e.sagas&&(pe=[].concat(Object(W.a)(pe),Object(W.a)(e.sagas)))}));o.a.render(r.a.createElement(c.a,{store:function(){var e=Object(U.a)(),t=Object(D.e)(de,Object(D.d)(Object(D.a)(e)));return e.run(me),t}()},r.a.createElement(i.a,{basename:"/"},r.a.createElement(G,null))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.843fc8f7.chunk.js.map